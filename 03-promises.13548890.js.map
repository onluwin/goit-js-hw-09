{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAUC,SAASC,cAAc,QACjCC,EAAgBF,SAASC,cAAc,uBACvCE,EAAeH,SAASC,cAAc,sBACtCG,EAAiBJ,SAASC,cAAc,wBAE9C,IAAII,EAAW,EAEf,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAGtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACXC,YAAW,KACrBN,EACNI,EAAQ,CAACG,SAAAT,E,MAAUC,IAEnBM,EAAO,CAACE,SAAAT,E,MAAUC,GAAO,GAEtBA,EAAM,G,CAmBbT,EAAQkB,iBAAiB,UAfzB,SAAuBC,GACrBA,EAAEC,iBAEF,IAAIC,EAAYC,OAAOlB,EAAamB,OAChCC,EAAQF,OAAOnB,EAAcoB,OAASF,EAC1C,IAAK,IAAII,EAAI,EAAGA,EAAIH,OAAOjB,EAAekB,OAAQE,GAAK,EACvDnB,GAAY,EACZkB,GAASF,OAAOlB,EAAamB,OAC3BhB,EAAcD,EAAUkB,GAAOE,MAAK,EAAGT,SAAAU,EAAQlB,MAAEA,MAAcX,EAAA8B,OAAOC,QAAQ,qBAAqBF,QAAelB,IAAQ,IAAIqB,OAAM,EAAGb,SAAAc,EAAQtB,MAAEA,MAC/IX,EAAA8B,OAAOI,QAAQ,oBAAoBD,QAAetB,IAAQ,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst formRef = document.querySelector('form');\nconst delayInputRef = document.querySelector('input[name=\"delay\"]');\nconst stepInputRef = document.querySelector('input[name=\"step\"]');\nconst amountInputRef = document.querySelector('input[name=\"amount\"]');\n\nlet position = 0;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  // console.log('position ->', position, 'delay ->', delay);\n  \n  return new Promise((resolve, reject) => {\n    const timerId = setTimeout(() => {\n      if (shouldResolve) {\n    resolve({position, delay})\n  } else {\n    reject({position, delay})\n  }\n    }, delay);\n  })\n}\n\nfunction onFormSubmit (e) {\n  e.preventDefault();\n\n  let delayStep = Number(stepInputRef.value)\n  let delay = Number(delayInputRef.value) - delayStep;\n  for (let i = 0; i < Number(amountInputRef.value); i += 1) {\n  position += 1;\n  delay += Number(stepInputRef.value);\n    createPromise(position, delay).then(({ position, delay }) => { Notify.success(`Fulfilled promise ${position} in ${delay}`) }).catch(({ position, delay }) => {\n      Notify.failure(`Rejected promise ${position} in ${delay}`)\n    })\n    \n}\n}\n\nformRef.addEventListener('submit', onFormSubmit)"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$delayInputRef","$47d4ff9957288465$var$stepInputRef","$47d4ff9957288465$var$amountInputRef","$47d4ff9957288465$var$position","$47d4ff9957288465$var$createPromise","position1","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","position","addEventListener","e","preventDefault","delayStep","Number","value","delay1","i","then","position2","Notify","success","catch","position3","failure"],"version":3,"file":"03-promises.13548890.js.map"}