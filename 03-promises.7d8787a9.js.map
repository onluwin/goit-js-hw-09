{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAUC,SAASC,cAAc,QACjCC,EAAgBF,SAASC,cAAc,uBACvCE,EAAeH,SAASC,cAAc,sBACtCG,EAAiBJ,SAASC,cAAc,wBAE1CI,EAAW,EAEf,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAGtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACXC,YAAW,WACrBN,EACNI,EAAQ,CAACG,SAAAT,EAAUC,UAEnBM,EAAO,CAACE,SAAAT,EAAUC,S,GAEfA,E,IAmBPT,EAAQkB,iBAAiB,UAfzB,SAAuBC,GACrBA,EAAEC,iBAIF,IAFA,IAAIC,EAAYC,OAAOlB,EAAamB,OAChCd,EAAQa,OAAOnB,EAAcoB,OAASF,EACjCG,EAAI,EAAGA,EAAIF,OAAOjB,EAAekB,OAAQC,GAAK,EACvDlB,GAAY,EACZG,GAASa,OAAOlB,EAAamB,OAC3BhB,EAAcD,EAAUG,GAAOgB,MAAK,SAAAC,GAAWA,EAART,SAAmBS,EAATL,UAAkBvB,EAAA6B,OAAOC,QAAQ,Q,IAAYC,OAAM,SAAAH,GAAWA,EAART,SAAeS,EAALjB,MAC/GX,EAAA6B,OAAOG,QAAQ,S","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst formRef = document.querySelector('form');\nconst delayInputRef = document.querySelector('input[name=\"delay\"]');\nconst stepInputRef = document.querySelector('input[name=\"step\"]');\nconst amountInputRef = document.querySelector('input[name=\"amount\"]');\n\nlet position = 0;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  // console.log('position ->', position, 'delay ->', delay);\n  \n  return new Promise((resolve, reject) => {\n    const timerId = setTimeout(() => {\n      if (shouldResolve) {\n    resolve({position, delay})\n  } else {\n    reject({position, delay})\n  }\n    }, delay);\n  })\n}\n\nfunction onFormSubmit (e) {\n  e.preventDefault();\n\n  let delayStep = Number(stepInputRef.value)\n  let delay = Number(delayInputRef.value) - delayStep;\n  for (let i = 0; i < Number(amountInputRef.value); i += 1) {\n  position += 1;\n  delay += Number(stepInputRef.value);\n    createPromise(position, delay).then(({ position, delayStep }) => { Notify.success('great') }).catch(({ position, delay }) => {\n      Notify.failure('reject')\n    })\n    \n}\n}\n\nformRef.addEventListener('submit', onFormSubmit)"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$delayInputRef","$ce04d3a99e08e73b$var$stepInputRef","$ce04d3a99e08e73b$var$amountInputRef","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$createPromise","position1","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","position","addEventListener","e","preventDefault","delayStep","Number","value","i","then","param","Notify","success","catch","failure"],"version":3,"file":"03-promises.7d8787a9.js.map"}